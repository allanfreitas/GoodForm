<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head >
		<title>Form Validation</title>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
		
		<link href="./css/userguide.css" media="screen" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="./js/jquery-1.3.2.min.js"></script>
		<script type="text/javascript" src="./js/jquery.nav.js"></script>
		<script type="text/javascript" src="./js/chili.js"></script>
		<script type="text/javascript" src="./js/chili/jquery.chili-2.2.js"></script>
		<script type="text/javascript" src="./js/chili/recipes.js"></script>
		
	</head>

<body>

	<!-- START NAVIGATION -->
	<div id="nav">
		<div id="nav_inner">
			<table cellpadding="0" cellspaceing="0" border="0" style="width:98%">
	<tr>
			<td class="td" valign="top">
					<h3></h3>
			<ul>
								<li><a href="./index.html">User Guide Home</a></li>
								<li><a href="./toc.html">Table of Contents</a></li>
							</ul>
					<h3>Basic Info</h3>
			<ul>
								<li><a href="./change_log.html">Change Log</a></li>
								<li><a href="./server_req.html">Server Requirements</a></li>
								<li><a href="./troubleshooting.html">Troubleshooting</a></li>
								<li><a href="./roadmap.html">Roadmap</a></li>
							</ul>
					<h3>Installation</h3>
			<ul>
								<li><a href="./downloading.html">Downloading</a></li>
								<li><a href="./installation.html">Installation</a></li>
								<li><a href="./getting_started.html">Getting Started</a></li>
								<li><a href="./config.html">Configuration</a></li>
							</ul>
				</td>
			<td class="td" valign="top">
					<h3>Input Methods</h3>
			<ul>
								<li><a href="./input_list.html">List of Inputs</a></li>
								<li><a href="./text_input.html">Text Input</a></li>
								<li><a href="./password_input.html">Password Input</a></li>
								<li><a href="./upload_input.html">Upload Input</a></li>
								<li><a href="./hidden_input.html">Hidden Input</a></li>
								<li><a href="./image_input.html">Image Input</a></li>
								<li><a href="./reset_input.html">Reset Input</a></li>
								<li><a href="./submit_input.html">Submit Input</a></li>
								<li><a href="./checkbox_input.html">Checkbox Input</a></li>
								<li><a href="./radio_input.html">Radio Input</a></li>
								<li><a href="./dropdown.html">Dropdown</a></li>
								<li><a href="./textarea.html">Textarea</a></li>
								<li><a href="./button.html">Button</a></li>
							</ul>
				</td>
			<td class="td" valign="top">
					<h3>Presentation Methods</h3>
			<ul>
								<li><a href="./label.html">Label</a></li>
								<li><a href="./tooltip.html">Tooltip</a></li>
								<li><a href="./error.html">Error</a></li>
								<li><a href="./clear.html">Clear</a></li>
								<li><a href="./fieldset.html">Fieldset</a></li>
							</ul>
					<h3>Other Features</h3>
			<ul>
								<li><a href="./special_attributes.html">Special Attributes</a></li>
								<li><a href="./validation.html">Form Validation</a></li>
							</ul>
				</td>
			<td class="td" valign="top">
					<h3>Generating your Form</h3>
			<ul>
								<li><a href="./generate.html">Generate</a></li>
							</ul>
					<h3>DMZ Datamapper Extension</h3>
			<ul>
								<li><a href="./installing_dmz_ext.html">Installation</a></li>
								<li><a href="./models_dmz_ext.html">Preparing the Models</a></li>
								<li><a href="./methods_dmz_ext.html">Methods</a></li>
							</ul>
				</td>
		<tr>
</table>		</div>
	</div>
	
	<div id="nav2">
		<a name="top">&nbsp;</a>
		<a id="nav_toggle" href="#">
			<img src="./images/nav_toggle_darker.jpg" width="154" height="43" border="0" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
		</a>
	</div>
	
	<div id="masthead">
		<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
			<tr>
				<td><h1>GoodForm</h1></td>
				<td id="breadcrumb_right"><a href="./toc.html">Table of Contents Page</a></td>
			</tr>
		</table>
	</div>
	<!-- END NAVIGATION -->
	
	<!-- START BREADCRUMB -->
	<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
		<tr>
			<td id="breadcrumb">
				<a href="http://www.stucktogetherwithtape.com/user_guides/goodform/">GoodForm</a> 
				&nbsp;&#8250;&nbsp;
				<a href="..html">User Guide Home</a> 
			</td>
		</tr>
	</table>
	<!-- END BREADCRUMB -->
	
	<br clear="all" />	<!-- START CONTENT -->
	<div id="content">
		<h1>Form Validation</h1>
		
		<p>GoodForm plays nice with CodeIgnites <a href="http://codeigniter.com/user_guide/libraries/form_validation.html">Form Validation</a> library. If needed, you can access the <var>form_validation</var> library instance directly by referencing <dfn>$this->form_validation</dfn>.</p>

		<p>GoodForm has the following methods to control validation.</p>
		
		<ul>
			<li><a href="#set_rules">Setting Validation Rules</a></li>
			<li><a href="#set_rules_array">Setting Validation Rules Using an Array</a></li>
			<li><a href="#set_rules_input_attr">Setting Validation Rules Using Input Attributes</a></li>
			<li><a href="#set_message">Setting Custom Error Messages</a></li>
			<li><a href="#run">Running Form Validation</a></li>
			<li><a href="#submitted">Checking if a Form was Submitted</a></li>
		</ul>
		
		<h2>set_rules(<em>mixed</em> field [, <em>string</em> name, <em>string</em> rules])</h2>
		
		<p>The GoodForm <dfn>set_rules()</dfn> function works identical to the <a href="http://codeigniter.com/user_guide/libraries/form_validation.html#validationrules">Form Validation</a> library.</p>
		
		<h3 id="set_rules">Setting Validation Rules</h3>
		
		<pre><code class="php">$this->goodform->set_rules('email', 'Email', 'required');</code></pre>
		
		<h3 id="set_rules_array">Setting Multiple Rules with an Array.</h3>
		
		<pre><code class="php">$config = array(
   array(
         'field'   => 'username', 
         'label'   => 'Username', 
         'rules'   => 'required'
      ),
   array(
         'field'   => 'password', 
         'label'   => 'Password', 
         'rules'   => 'required'
      ),
   array(
         'field'   => 'passconf', 
         'label'   => 'Password Confirmation', 
         'rules'   => 'required'
      ),   
   array(
         'field'   => 'email', 
         'label'   => 'Email', 
         'rules'   => 'required'
      )
);

$this->goodform->set_rules($config);</code></pre>
				
		<h2 id="set_rules_input_attr">Setting Validation Rules Using Input Attributes</h2>
		
		<p>Validation rules can also be set by passing a <dfn>validation</dfn> attribute to a <a href="./input_method.html">Input Method</a>. Like the Form Validation library, define multiple rules with a pipe: <kbd>'rule1|rule2'</kbd>.</p>

		<h3>Example</h3>
		
		<pre><code class="php">$attr = array(
	'name' 		 => 'email',
	'label'		 => 'Email'
	'validation'	=> 'required|valid_email'
);

$this->goodform->text($attr);</code></pre>

		<p class="note">When setting <strong>validation</strong> rules, you also need to specify the <strong>label</strong> attribute. This will result in the label being used in any error messages generated. If no label is defined, the field <strong>name</strong> will be used instead</p>
		
		<h2 id="set_message">set_message(<em>string</em> rule [, <em>string</em> message)</h2>

		<p>Where rule corresponds to the name of a particular rule, and Error Message is the text you would like displayed.</p>
		
		<p>If you include %s in your error string, it will be replaced with the "label" name you used for your field when you set your rules.</p>

		<pre><code class="php">$this->goodform->set_message('required', 'Your custom message here');</code></pre>		


		<h2 id="run">run()</h2>
		
		<p>The <kbd>run()</kbd> method will process posted information and apply the validation rules you have set. GoodForm automatically updates form values and adds any inline errors to your fields. For this reason <strong>run should be called after you have applied all rules to the form and before calling <kbd>generate()</kbd>.</strong></p>
		
		<p>It <strong>returns</strong> <var>TRUE</var> or <var>FALSE</var> depending if the form passed all validation checks.</p>
		
		<p class="important">Since you haven't told the Form Validation class to validate anything yet, it returns FALSE (boolean false) by default. The run() function only returns TRUE if it has successfully applied your rules without any of them failing.</p>
		
		
		
		<h2 id="submitted">submitted()</h2>
		
		<p>This additional GoodForm method returns <var>TRUE</var> if the form was submitted. This can be useful if you only want to perform a given action if <strong>this</strong> form was submitted. Each time you add an input field to GoodForm it keeps an array of all the field names, then checks if any of these values exist in the php <var>$_POST</var> array. Handy if you have more than one form on a page.</p>
		
		<h3>Example</h3>
		
		<pre><code class="php">// add form data and prep validation rules
// ...

// check if the form was submitted
if($this->goodform->submitted())
	// run validation
	if($this->goodform->run() == FALSE)
		// failure
	else
		// success
else
	// do nuthin'
	
// ...
// generate form and dispay view</code></pre>
		
	</div>
	<!-- END CONTENT -->
	<!-- START FOOTER -->	
	<div id="footer">
		<p><a href="#top">Top of Page</a></p>
		<div id="copyrights">
			<p>
				<a href="http://www.stucktogetherwithtape.com/user_guides/goodform/">GoodForm v1.3.1</a> 
				&nbsp;&middot;&nbsp; Copyright &copy; 2009-2010 &nbsp;&middot;&nbsp; 
				<a href="http://www.stucktogetherwithtape.com/">Jim Wardlaw</a>			</p>
			<p>
				<a href="http://codeigniter.com">CodeIgniter</a> 
				&nbsp;&middot;&nbsp; Copyright &#169; 2006-2008 &nbsp;&middot;&nbsp; 
				<a href="http://ellislab.com/">Ellislab, Inc.</a> 
			</p>
		</div>
	</div>
	<!-- END CONTENT -->

</body>
</html>
